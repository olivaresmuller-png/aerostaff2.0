import{c as pe,r as c,R as De,F as Re,j as e,H as _e,J as q,K as O,L as Ie,d as K,u as Ve,D as oe,n as Le,B as I,p as ce,q as de,v as ue,I as se,x as me,W as xe,M as Ke,X as Fe,N as Oe}from"./index-YWz30tJV.js";import{l as ze,S as He,U as $e}from"./index.module-CQBgGrA2.js";import{g as Ue,S as Y,a as G,f as W,b as X,e as f}from"./select-CGFZ8bQp.js";import{L as V,B as Z}from"./label-YsLahWVM.js";import{u as Ye,c as ge,a as Ge}from"./index-wQeP6dxm.js";import{P as fe,T as We,C as Xe}from"./checkbox-DBtVEYO2.js";import{P as qe}from"./pen-DZbqosbj.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],he=pe("award",Je);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Ze=pe("percent",Qe);function F(t,n,{checkForDefaultPrevented:r=!0}={}){return function(l){if(t?.(l),r===!1||!l.defaultPrevented)return n?.(l)}}var et=De[" useInsertionEffect ".trim().toString()]||Re;function tt({prop:t,defaultProp:n,onChange:r=()=>{},caller:a}){const[l,m,u]=st({defaultProp:n,onChange:r}),d=t!==void 0,g=d?t:l;{const x=c.useRef(t!==void 0);c.useEffect(()=>{const o=x.current;o!==d&&console.warn(`${a} is changing from ${o?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=d},[d,a])}const w=c.useCallback(x=>{if(d){const o=nt(x)?x(t):x;o!==t&&u.current?.(o)}else m(x)},[d,t,m,u]);return[g,w]}function st({defaultProp:t,onChange:n}){const[r,a]=c.useState(t),l=c.useRef(r),m=c.useRef(n);return et(()=>{m.current=n},[n]),c.useEffect(()=>{l.current!==r&&(m.current?.(r),l.current=r)},[r,l]),[r,a,m]}function nt(t){return typeof t=="function"}var Se=["PageUp","PageDown"],ve=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],je={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},z="Slider",[ne,rt,at]=Ue(z),[be]=_e(z,[at]),[it,ee]=be(z),Ne=c.forwardRef((t,n)=>{const{name:r,min:a=0,max:l=100,step:m=1,orientation:u="horizontal",disabled:d=!1,minStepsBetweenThumbs:g=0,defaultValue:w=[a],value:x,onValueChange:o=()=>{},onValueCommit:p=()=>{},inverted:y=!1,form:B,...S}=t,v=c.useRef(new Set),h=c.useRef(0),b=u==="horizontal"?lt:ot,[j=[],T]=tt({prop:x,defaultProp:w,onChange:C=>{[...v.current][h.current]?.focus(),o(C)}}),L=c.useRef(j);function E(C){const A=xt(j,C);R(C,A)}function D(C){R(C,h.current)}function H(){const C=L.current[h.current];j[h.current]!==C&&p(j)}function R(C,A,{commit:$}={commit:!1}){const J=gt(m),U=St(Math.round((C-a)/m)*m+a,J),_=ge(U,[a,l]);T((k=[])=>{const P=ut(k,_,A);if(pt(P,g*m)){h.current=P.indexOf(_);const Q=String(P)!==String(k);return Q&&$&&p(P),Q?P:k}else return k})}return e.jsx(it,{scope:t.__scopeSlider,name:r,disabled:d,min:a,max:l,valueIndexToChangeRef:h,thumbs:v.current,values:j,orientation:u,form:B,children:e.jsx(ne.Provider,{scope:t.__scopeSlider,children:e.jsx(ne.Slot,{scope:t.__scopeSlider,children:e.jsx(b,{"aria-disabled":d,"data-disabled":d?"":void 0,...S,ref:n,onPointerDown:F(S.onPointerDown,()=>{d||(L.current=j)}),min:a,max:l,inverted:y,onSlideStart:d?void 0:E,onSlideMove:d?void 0:D,onSlideEnd:d?void 0:H,onHomeKeyDown:()=>!d&&R(a,0,{commit:!0}),onEndKeyDown:()=>!d&&R(l,j.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:A})=>{if(!d){const U=Se.includes(C.key)||C.shiftKey&&ve.includes(C.key)?10:1,_=h.current,k=j[_],P=m*U*A;R(k+P,_,{commit:!0})}}})})})})});Ne.displayName=z;var[we,ye]=be(z,{startEdge:"left",endEdge:"right",size:"width",direction:1}),lt=c.forwardRef((t,n)=>{const{min:r,max:a,dir:l,inverted:m,onSlideStart:u,onSlideMove:d,onSlideEnd:g,onStepKeyDown:w,...x}=t,[o,p]=c.useState(null),y=O(n,b=>p(b)),B=c.useRef(void 0),S=Ye(l),v=S==="ltr",h=v&&!m||!v&&m;function M(b){const j=B.current||o.getBoundingClientRect(),T=[0,j.width],E=le(T,h?[r,a]:[a,r]);return B.current=j,E(b-j.left)}return e.jsx(we,{scope:t.__scopeSlider,startEdge:h?"left":"right",endEdge:h?"right":"left",direction:h?1:-1,size:"width",children:e.jsx(Be,{dir:S,"data-orientation":"horizontal",...x,ref:y,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=M(b.clientX);u?.(j)},onSlideMove:b=>{const j=M(b.clientX);d?.(j)},onSlideEnd:()=>{B.current=void 0,g?.()},onStepKeyDown:b=>{const T=je[h?"from-left":"from-right"].includes(b.key);w?.({event:b,direction:T?-1:1})}})})}),ot=c.forwardRef((t,n)=>{const{min:r,max:a,inverted:l,onSlideStart:m,onSlideMove:u,onSlideEnd:d,onStepKeyDown:g,...w}=t,x=c.useRef(null),o=O(n,x),p=c.useRef(void 0),y=!l;function B(S){const v=p.current||x.current.getBoundingClientRect(),h=[0,v.height],b=le(h,y?[a,r]:[r,a]);return p.current=v,b(S-v.top)}return e.jsx(we,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:e.jsx(Be,{"data-orientation":"vertical",...w,ref:o,style:{...w.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const v=B(S.clientY);m?.(v)},onSlideMove:S=>{const v=B(S.clientY);u?.(v)},onSlideEnd:()=>{p.current=void 0,d?.()},onStepKeyDown:S=>{const h=je[y?"from-bottom":"from-top"].includes(S.key);g?.({event:S,direction:h?-1:1})}})})}),Be=c.forwardRef((t,n)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:l,onSlideEnd:m,onHomeKeyDown:u,onEndKeyDown:d,onStepKeyDown:g,...w}=t,x=ee(z,r);return e.jsx(q.span,{...w,ref:n,onKeyDown:F(t.onKeyDown,o=>{o.key==="Home"?(u(o),o.preventDefault()):o.key==="End"?(d(o),o.preventDefault()):Se.concat(ve).includes(o.key)&&(g(o),o.preventDefault())}),onPointerDown:F(t.onPointerDown,o=>{const p=o.target;p.setPointerCapture(o.pointerId),o.preventDefault(),x.thumbs.has(p)?p.focus():a(o)}),onPointerMove:F(t.onPointerMove,o=>{o.target.hasPointerCapture(o.pointerId)&&l(o)}),onPointerUp:F(t.onPointerUp,o=>{const p=o.target;p.hasPointerCapture(o.pointerId)&&(p.releasePointerCapture(o.pointerId),m(o))})})}),Ce="SliderTrack",Ee=c.forwardRef((t,n)=>{const{__scopeSlider:r,...a}=t,l=ee(Ce,r);return e.jsx(q.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...a,ref:n})});Ee.displayName=Ce;var re="SliderRange",Me=c.forwardRef((t,n)=>{const{__scopeSlider:r,...a}=t,l=ee(re,r),m=ye(re,r),u=c.useRef(null),d=O(n,u),g=l.values.length,w=l.values.map(p=>ke(p,l.min,l.max)),x=g>1?Math.min(...w):0,o=100-Math.max(...w);return e.jsx(q.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...a,ref:d,style:{...t.style,[m.startEdge]:x+"%",[m.endEdge]:o+"%"}})});Me.displayName=re;var ae="SliderThumb",Te=c.forwardRef((t,n)=>{const r=rt(t.__scopeSlider),[a,l]=c.useState(null),m=O(n,d=>l(d)),u=c.useMemo(()=>a?r().findIndex(d=>d.ref.current===a):-1,[r,a]);return e.jsx(ct,{...t,ref:m,index:u})}),ct=c.forwardRef((t,n)=>{const{__scopeSlider:r,index:a,name:l,...m}=t,u=ee(ae,r),d=ye(ae,r),[g,w]=c.useState(null),x=O(n,M=>w(M)),o=g?u.form||!!g.closest("form"):!0,p=Ie(g),y=u.values[a],B=y===void 0?0:ke(y,u.min,u.max),S=mt(a,u.values.length),v=p?.[d.size],h=v?ft(v,B,d.direction):0;return c.useEffect(()=>{if(g)return u.thumbs.add(g),()=>{u.thumbs.delete(g)}},[g,u.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${B}% + ${h}px)`},children:[e.jsx(ne.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(q.span,{role:"slider","aria-label":t["aria-label"]||S,"aria-valuemin":u.min,"aria-valuenow":y,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...m,ref:x,style:y===void 0?{display:"none"}:t.style,onFocus:F(t.onFocus,()=>{u.valueIndexToChangeRef.current=a})})}),o&&e.jsx(Ae,{name:l??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:y},a)]})});Te.displayName=ae;var dt="RadioBubbleInput",Ae=c.forwardRef(({__scopeSlider:t,value:n,...r},a)=>{const l=c.useRef(null),m=O(l,a),u=Ge(n);return c.useEffect(()=>{const d=l.current;if(!d)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(u!==n&&x){const o=new Event("input",{bubbles:!0});x.call(d,n),d.dispatchEvent(o)}},[u,n]),e.jsx(q.input,{style:{display:"none"},...r,ref:m,defaultValue:n})});Ae.displayName=dt;function ut(t=[],n,r){const a=[...t];return a[r]=n,a.sort((l,m)=>l-m)}function ke(t,n,r){const m=100/(r-n)*(t-n);return ge(m,[0,100])}function mt(t,n){return n>2?`Value ${t+1} of ${n}`:n===2?["Minimum","Maximum"][t]:void 0}function xt(t,n){if(t.length===1)return 0;const r=t.map(l=>Math.abs(l-n)),a=Math.min(...r);return r.indexOf(a)}function ft(t,n,r){const a=t/2,m=le([0,50],[0,a]);return(a-m(n)*r)*r}function ht(t){return t.slice(0,-1).map((n,r)=>t[r+1]-n)}function pt(t,n){if(n>0){const r=ht(t);return Math.min(...r)>=n}return!0}function le(t,n){return r=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(t[1]-t[0]);return n[0]+a*(r-t[0])}}function gt(t){return(String(t).split(".")[1]||"").length}function St(t,n){const r=Math.pow(10,n);return Math.round(t*r)/r}var Pe=Ne,vt=Ee,jt=Me,bt=Te;const ie=c.forwardRef(({className:t,...n},r)=>e.jsxs(Pe,{ref:r,className:K("relative flex w-full touch-none select-none items-center",t),...n,children:[e.jsx(vt,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(jt,{className:"absolute h-full bg-primary"})}),e.jsx(bt,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));ie.displayName=Pe.displayName;const Nt=["B1","B2","B1/2","A"];function At(){const{employees:t,addEmployee:n,removeEmployee:r,updateEmployee:a}=Ve(),[l,m]=c.useState(""),[u]=ze(l,150),[d,g]=c.useState("all"),[w,x]=c.useState(!1),[o,p]=c.useState(null),[y,B]=c.useState(!1),[S,v]=c.useState([]),[h,M]=c.useState([]),[b,j]=c.useState(""),[T,L]=c.useState("B1"),[E,D]=c.useState({initials:"",name:"",department:"S/TMBAA",role:"Eng",grade:100}),H=c.useMemo(()=>t.filter(s=>{const i=s.name.toLowerCase().includes(u.toLowerCase())||s.initials.toLowerCase().includes(u.toLowerCase()),N=d==="all"||s.department===d;return i&&N}),[t,u,d]),R=["PM","PS","SrEng","Eng"],C=c.useMemo(()=>R.map(s=>({role:s,label:s==="PM"?"Production Manager":s==="PS"?"Production Supervisor":s==="SrEng"?"Senior Engineer":"Engineer",employees:H.filter(i=>i.role===s)})).filter(s=>s.employees.length>0),[H]),A=()=>{n({...E,skills:[],certifications:[]}),D({initials:"",name:"",department:"S/TMBAA",role:"Eng",grade:100}),x(!1)},$=c.useCallback((s,i)=>{a(s,{grade:i})},[a]),J=s=>{p(s),v([...s.skills]),M([...s.certifications]),j(""),L("B1"),B(!0)},U=()=>{if(!b)return;S.some(i=>i.aircraftType===b&&i.license===T)||v([...S,{aircraftType:b,license:T}]),j("")},_=s=>{v(S.filter((i,N)=>N!==s))},k=s=>{h.includes(s)?M(h.filter(i=>i!==s)):M([...h,s])},P=()=>{o&&a(o.id,{skills:S,certifications:h}),B(!1),p(null)},Q=s=>{switch(s){case"PM":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400";case"PS":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"SrEng":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";case"Eng":return"bg-slate-100 text-slate-700 dark:bg-slate-800/50 dark:text-slate-400"}};return e.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-display font-bold tracking-tight",children:"Employees"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage team members, skills, and qualifications"})]}),e.jsxs(oe,{open:w,onOpenChange:x,children:[e.jsx(Le,{asChild:!0,children:e.jsxs(I,{"data-testid":"button-add-employee",className:"gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),"Add Employee"]})}),e.jsxs(ce,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Add New Employee"})}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"initials",children:"Initials"}),e.jsx(se,{id:"initials","data-testid":"input-initials",placeholder:"e.g., JAWE",value:E.initials,onChange:s=>D(i=>({...i,initials:s.target.value.toUpperCase()}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"role",children:"Role"}),e.jsxs(Y,{value:E.role,onValueChange:s=>D(i=>({...i,role:s})),children:[e.jsx(G,{"data-testid":"select-role",children:e.jsx(W,{})}),e.jsxs(X,{children:[e.jsx(f,{value:"PM",children:"Production Manager"}),e.jsx(f,{value:"PS",children:"Production Supervisor"}),e.jsx(f,{value:"SrEng",children:"Senior Engineer"}),e.jsx(f,{value:"Eng",children:"Engineer"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"name",children:"Full Name"}),e.jsx(se,{id:"name","data-testid":"input-name",placeholder:"Last name, First name",value:E.name,onChange:s=>D(i=>({...i,name:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"department",children:"Department"}),e.jsxs(Y,{value:E.department,onValueChange:s=>D(i=>({...i,department:s})),children:[e.jsx(G,{"data-testid":"select-department",children:e.jsx(W,{})}),e.jsxs(X,{children:[e.jsx(f,{value:"S/TMBA",children:"S/TMBA"}),e.jsx(f,{value:"S/TMBAA",children:"S/TMBAA"}),e.jsx(f,{value:"S/TMBAB",children:"S/TMBAB"}),e.jsx(f,{value:"S/TMBAC",children:"S/TMBAC"}),e.jsx(f,{value:"S/TMBAD",children:"S/TMBAD"}),e.jsx(f,{value:"S/TMBB",children:"S/TMBB"}),e.jsx(f,{value:"S/TMBBA",children:"S/TMBBA"}),e.jsx(f,{value:"S/TMBBB",children:"S/TMBBB"}),e.jsx(f,{value:"S/TMBBC",children:"S/TMBBC"}),e.jsx(f,{value:"S/TMBBD",children:"S/TMBBD"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{children:["Grade: ",E.grade,"%"]}),e.jsx(ie,{"data-testid":"slider-grade",value:[E.grade],onValueChange:([s])=>D(i=>({...i,grade:s})),min:0,max:100,step:10})]}),e.jsx(I,{onClick:A,className:"w-full","data-testid":"button-confirm-add",children:"Add Employee"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(He,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(se,{"data-testid":"input-search-employees",placeholder:"Search by name or initials...",className:"pl-10",value:l,onChange:s=>m(s.target.value)})]}),e.jsxs(Y,{value:d,onValueChange:g,children:[e.jsx(G,{className:"w-[160px]","data-testid":"select-filter-department",children:e.jsx(W,{placeholder:"Department"})}),e.jsxs(X,{children:[e.jsx(f,{value:"all",children:"All Departments"}),e.jsx(f,{value:"S/TMBA",children:"S/TMBA"}),e.jsx(f,{value:"S/TMBAA",children:"S/TMBAA"}),e.jsx(f,{value:"S/TMBAB",children:"S/TMBAB"}),e.jsx(f,{value:"S/TMBAC",children:"S/TMBAC"}),e.jsx(f,{value:"S/TMBAD",children:"S/TMBAD"}),e.jsx(f,{value:"S/TMBB",children:"S/TMBB"}),e.jsx(f,{value:"S/TMBBA",children:"S/TMBBA"}),e.jsx(f,{value:"S/TMBBB",children:"S/TMBBB"}),e.jsx(f,{value:"S/TMBBC",children:"S/TMBBC"}),e.jsx(f,{value:"S/TMBBD",children:"S/TMBBD"})]})]})]}),e.jsx("div",{className:"space-y-8",children:C.map(s=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Z,{variant:"outline",className:K("text-sm px-3 py-1",Q(s.role)),children:s.role}),e.jsx("h2",{className:"font-display font-semibold text-lg",children:s.label}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",s.employees.length,")"]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:s.employees.map(i=>e.jsxs(me,{className:"p-4 hover:shadow-md transition-shadow","data-testid":`card-employee-${i.id}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:e.jsx("span",{className:"font-mono font-bold text-primary text-[10px]",children:i.initials})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:i.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:i.department.replace("S/","")})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{variant:"ghost",size:"icon",className:"text-primary hover:text-primary hover:bg-primary/10",onClick:()=>J(i),"data-testid":`button-edit-${i.id}`,children:e.jsx(qe,{className:"w-4 h-4"})}),e.jsx(I,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>r(i.id),"data-testid":`button-remove-${i.id}`,children:e.jsx(We,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsx("span",{children:"Grade"})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-1 max-w-[180px]",children:[e.jsx(ie,{value:[i.grade],onValueChange:([N])=>$(i.id,N),min:0,max:100,step:10,className:"flex-1","data-testid":`slider-grade-${i.id}`}),e.jsxs("span",{className:K("font-mono text-sm font-semibold w-10 text-right",i.grade>=100?"text-success":i.grade===0?"text-destructive":"text-warning"),children:[i.grade,"%"]})]})]}),i.skills.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.skills.filter(N=>N.license).slice(0,5).map((N,te)=>e.jsxs(Z,{variant:"secondary",className:K("text-xs",N.license==="B1"&&"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300",N.license==="B2"&&"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300",N.license==="B1/2"&&"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300"),children:[e.jsx("span",{className:"font-bold",children:N.aircraftType}),e.jsx("span",{className:"mx-0.5 opacity-50",children:"|"}),e.jsx("span",{children:N.license})]},te)),i.skills.filter(N=>N.license).length>5&&e.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["+",i.skills.filter(N=>N.license).length-5]})]})]}),i.certifications.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.certifications.slice(0,4).map((N,te)=>e.jsx(Z,{variant:"outline",className:"text-xs bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800",children:N},te)),i.certifications.length>4&&e.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["+",i.certifications.length-4]})]})]})]})]},i.id))})]},s.role))}),H.length===0&&e.jsxs(me,{className:"p-12 text-center",children:[e.jsx($e,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),e.jsx("h3",{className:"font-display font-semibold text-lg mb-2",children:"No employees found"}),e.jsx("p",{className:"text-muted-foreground",children:l?"Try a different search term":"Add your first employee to get started"})]}),e.jsx(oe,{open:y,onOpenChange:B,children:e.jsxs(ce,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:e.jsx("span",{className:"font-mono font-bold text-primary text-xs",children:o?.initials})}),e.jsxs("div",{children:[e.jsxs("span",{children:["Edit Skills - ",o?.name]}),e.jsx("p",{className:"text-sm font-normal text-muted-foreground",children:o?.department})]})]})}),e.jsxs("div",{className:"space-y-6 pt-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(V,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),"Aircraft Licenses"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Y,{value:b,onValueChange:j,children:[e.jsx(G,{className:"flex-1","data-testid":"select-aircraft-type",children:e.jsx(W,{placeholder:"Select aircraft type"})}),e.jsx(X,{children:Ke.map(s=>e.jsx(f,{value:s,children:s},s))})]}),e.jsxs(Y,{value:T,onValueChange:L,children:[e.jsx(G,{className:"w-24","data-testid":"select-license-type",children:e.jsx(W,{})}),e.jsx(X,{children:Nt.map(s=>e.jsx(f,{value:s,children:s},s))})]}),e.jsx(I,{onClick:U,disabled:!b,"data-testid":"button-add-skill",children:e.jsx(fe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 min-h-[40px] p-3 bg-muted/30 rounded-lg border border-dashed",children:S.length===0?e.jsx("span",{className:"text-sm text-muted-foreground",children:"No aircraft licenses added"}):S.map((s,i)=>e.jsxs(Z,{variant:"secondary",className:K("text-sm gap-1 pr-1",s.license==="B1"&&"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300",s.license==="B2"&&"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300",s.license==="B1/2"&&"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300"),children:[e.jsx("span",{className:"font-bold",children:s.aircraftType}),e.jsx("span",{className:"mx-0.5 opacity-50",children:"|"}),e.jsx("span",{children:s.license}),e.jsx("button",{onClick:()=>_(i),className:"ml-1 hover:bg-black/10 rounded p-0.5","data-testid":`button-remove-skill-${i}`,children:e.jsx(Fe,{className:"w-3 h-3"})})]},i))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(V,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4"}),"Special Skills & Certifications"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Oe.map(s=>e.jsxs("div",{className:K("flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors",h.includes(s)?"bg-amber-50 border-amber-300 dark:bg-amber-900/20 dark:border-amber-700":"bg-muted/30 border-transparent hover:border-muted-foreground/20"),onClick:()=>k(s),children:[e.jsx(Xe,{checked:h.includes(s),onCheckedChange:()=>k(s),"data-testid":`checkbox-cert-${s.replace(/\s/g,"-")}`}),e.jsx("span",{className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(I,{variant:"outline",className:"flex-1",onClick:()=>B(!1),children:"Cancel"}),e.jsx(I,{className:"flex-1",onClick:P,"data-testid":"button-save-skills",children:"Save Changes"})]})]})]})})]})}export{At as EmployeesPage};
